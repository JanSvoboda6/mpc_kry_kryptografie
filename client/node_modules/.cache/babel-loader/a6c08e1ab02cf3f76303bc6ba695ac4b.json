{"ast":null,"code":"var _excluded = [\"bars\", \"xScale\", \"yScale\", \"horizontal\", \"radius\", \"radiusAll\", \"radiusTop\", \"radiusRight\", \"radiusBottom\", \"radiusLeft\"],\n    _excluded2 = [\"bars\", \"xScale\", \"yScale\", \"horizontal\", \"radius\", \"radiusAll\", \"radiusTop\", \"radiusRight\", \"radiusBottom\", \"radiusLeft\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { BarRounded } from '@visx/shape';\nimport React, { useMemo } from 'react';\nimport { animated, useTransition } from 'react-spring';\nimport { cleanColor, colorHasUrl } from '../../../utils/cleanColorString';\nimport getScaleBaseline from '../../../utils/getScaleBaseline';\nimport AnimatedPath from './AnimatedPath';\n\nfunction enterUpdate(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      fill = _ref.fill;\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    fill: cleanColor(fill),\n    opacity: 1\n  };\n}\n\nfunction useBarTransitionConfig(_ref2) {\n  var scale = _ref2.scale,\n      horizontal = _ref2.horizontal;\n  var shouldAnimateX = !!horizontal;\n  return useMemo(function () {\n    var scaleBaseline = getScaleBaseline(scale);\n\n    function fromLeave(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          width = _ref3.width,\n          height = _ref3.height,\n          fill = _ref3.fill;\n      return {\n        x: shouldAnimateX ? scaleBaseline != null ? scaleBaseline : 0 : x,\n        y: shouldAnimateX ? y : scaleBaseline != null ? scaleBaseline : 0,\n        width: shouldAnimateX ? 0 : width,\n        height: shouldAnimateX ? height : 0,\n        fill: cleanColor(fill),\n        opacity: 0\n      };\n    }\n\n    return {\n      unique: true,\n      from: fromLeave,\n      leave: fromLeave,\n      enter: enterUpdate,\n      update: enterUpdate,\n      keys: function keys(bar) {\n        return bar.key;\n      }\n    };\n  }, [scale, shouldAnimateX]);\n}\n/** Wrapper component which renders a Bars component depending on whether it needs rounded corners. */\n\n\nexport default function AnimatedBars(props) {\n  return props.radius == null ? /*#__PURE__*/React.createElement(AnimatedBarsUnrounded, props) : /*#__PURE__*/React.createElement(AnimatedBarsRounded, _extends({}, props, {\n    radius: props.radius\n  }));\n}\n\nfunction AnimatedBarsRounded(_ref4) {\n  var bars = _ref4.bars,\n      xScale = _ref4.xScale,\n      yScale = _ref4.yScale,\n      horizontal = _ref4.horizontal,\n      radius = _ref4.radius,\n      radiusAll = _ref4.radiusAll,\n      radiusTop = _ref4.radiusTop,\n      radiusRight = _ref4.radiusRight,\n      radiusBottom = _ref4.radiusBottom,\n      radiusLeft = _ref4.radiusLeft,\n      pathProps = _objectWithoutPropertiesLoose(_ref4, _excluded);\n\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    React.createElement(React.Fragment, null, bars.map(function (_ref5) {\n      var key = _ref5.key,\n          fill = _ref5.fill,\n          x = _ref5.x,\n          y = _ref5.y,\n          width = _ref5.width,\n          height = _ref5.height;\n      return /*#__PURE__*/React.createElement(BarRounded, {\n        key: key,\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        radius: radius,\n        all: radiusAll,\n        top: radiusTop,\n        right: radiusRight,\n        bottom: radiusBottom,\n        left: radiusLeft\n      }, function (_ref6) {\n        var path = _ref6.path;\n        return /*#__PURE__*/React.createElement(AnimatedPath, _extends({\n          className: \"visx-bar visx-bar-rounded\",\n          d: path,\n          fill: fill\n        }, pathProps));\n      });\n    }))\n  );\n}\n\nfunction AnimatedBarsUnrounded(_ref7) {\n  var bars = _ref7.bars,\n      xScale = _ref7.xScale,\n      yScale = _ref7.yScale,\n      horizontal = _ref7.horizontal,\n      radius = _ref7.radius,\n      radiusAll = _ref7.radiusAll,\n      radiusTop = _ref7.radiusTop,\n      radiusRight = _ref7.radiusRight,\n      radiusBottom = _ref7.radiusBottom,\n      radiusLeft = _ref7.radiusLeft,\n      rectProps = _objectWithoutPropertiesLoose(_ref7, _excluded2);\n\n  var animatedBars = useTransition(bars, _extends({}, useBarTransitionConfig({\n    horizontal: horizontal,\n    scale: horizontal ? xScale : yScale\n  })));\n  var isFocusable = Boolean(rectProps.onFocus || rectProps.onBlur);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, animatedBars(function ( // @ts-expect-error x/y aren't in react-spring types (which are HTML CSS properties)\n  _ref8, item, _ref9) {\n    var x = _ref8.x,\n        y = _ref8.y,\n        width = _ref8.width,\n        height = _ref8.height,\n        fill = _ref8.fill,\n        opacity = _ref8.opacity;\n    var key = _ref9.key;\n    return item == null || key == null ? null : /*#__PURE__*/React.createElement(animated.rect, _extends({\n      key: key,\n      tabIndex: isFocusable ? 0 : undefined,\n      className: \"visx-bar\",\n      x: x,\n      y: y,\n      width: width,\n      height: height // use the item's fill directly if it's not animate-able\n      ,\n      fill: colorHasUrl(item.fill) ? item.fill : fill,\n      opacity: opacity\n    }, rectProps));\n  }));\n}","map":{"version":3,"sources":["/Users/jan/dev/thesis/ml_runner/react/ml-runner/node_modules/@visx/xychart/esm/components/series/private/AnimatedBars.js"],"names":["_excluded","_excluded2","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","BarRounded","React","useMemo","animated","useTransition","cleanColor","colorHasUrl","getScaleBaseline","AnimatedPath","enterUpdate","_ref","x","y","width","height","fill","opacity","useBarTransitionConfig","_ref2","scale","horizontal","shouldAnimateX","scaleBaseline","fromLeave","_ref3","unique","from","leave","enter","update","bar","AnimatedBars","props","radius","createElement","AnimatedBarsUnrounded","AnimatedBarsRounded","_ref4","bars","xScale","yScale","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft","pathProps","Fragment","map","_ref5","all","top","right","bottom","left","_ref6","path","className","d","_ref7","rectProps","animatedBars","isFocusable","Boolean","onFocus","onBlur","_ref8","item","_ref9","rect","tabIndex","undefined"],"mappings":"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","sourcesContent":["var _excluded = [\"bars\", \"xScale\", \"yScale\", \"horizontal\", \"radius\", \"radiusAll\", \"radiusTop\", \"radiusRight\", \"radiusBottom\", \"radiusLeft\"],\n    _excluded2 = [\"bars\", \"xScale\", \"yScale\", \"horizontal\", \"radius\", \"radiusAll\", \"radiusTop\", \"radiusRight\", \"radiusBottom\", \"radiusLeft\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { BarRounded } from '@visx/shape';\nimport React, { useMemo } from 'react';\nimport { animated, useTransition } from 'react-spring';\nimport { cleanColor, colorHasUrl } from '../../../utils/cleanColorString';\nimport getScaleBaseline from '../../../utils/getScaleBaseline';\nimport AnimatedPath from './AnimatedPath';\n\nfunction enterUpdate(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      fill = _ref.fill;\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    fill: cleanColor(fill),\n    opacity: 1\n  };\n}\n\nfunction useBarTransitionConfig(_ref2) {\n  var scale = _ref2.scale,\n      horizontal = _ref2.horizontal;\n  var shouldAnimateX = !!horizontal;\n  return useMemo(function () {\n    var scaleBaseline = getScaleBaseline(scale);\n\n    function fromLeave(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          width = _ref3.width,\n          height = _ref3.height,\n          fill = _ref3.fill;\n      return {\n        x: shouldAnimateX ? scaleBaseline != null ? scaleBaseline : 0 : x,\n        y: shouldAnimateX ? y : scaleBaseline != null ? scaleBaseline : 0,\n        width: shouldAnimateX ? 0 : width,\n        height: shouldAnimateX ? height : 0,\n        fill: cleanColor(fill),\n        opacity: 0\n      };\n    }\n\n    return {\n      unique: true,\n      from: fromLeave,\n      leave: fromLeave,\n      enter: enterUpdate,\n      update: enterUpdate,\n      keys: function keys(bar) {\n        return bar.key;\n      }\n    };\n  }, [scale, shouldAnimateX]);\n}\n/** Wrapper component which renders a Bars component depending on whether it needs rounded corners. */\n\n\nexport default function AnimatedBars(props) {\n  return props.radius == null ? /*#__PURE__*/React.createElement(AnimatedBarsUnrounded, props) : /*#__PURE__*/React.createElement(AnimatedBarsRounded, _extends({}, props, {\n    radius: props.radius\n  }));\n}\n\nfunction AnimatedBarsRounded(_ref4) {\n  var bars = _ref4.bars,\n      xScale = _ref4.xScale,\n      yScale = _ref4.yScale,\n      horizontal = _ref4.horizontal,\n      radius = _ref4.radius,\n      radiusAll = _ref4.radiusAll,\n      radiusTop = _ref4.radiusTop,\n      radiusRight = _ref4.radiusRight,\n      radiusBottom = _ref4.radiusBottom,\n      radiusLeft = _ref4.radiusLeft,\n      pathProps = _objectWithoutPropertiesLoose(_ref4, _excluded);\n\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    React.createElement(React.Fragment, null, bars.map(function (_ref5) {\n      var key = _ref5.key,\n          fill = _ref5.fill,\n          x = _ref5.x,\n          y = _ref5.y,\n          width = _ref5.width,\n          height = _ref5.height;\n      return /*#__PURE__*/React.createElement(BarRounded, {\n        key: key,\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        radius: radius,\n        all: radiusAll,\n        top: radiusTop,\n        right: radiusRight,\n        bottom: radiusBottom,\n        left: radiusLeft\n      }, function (_ref6) {\n        var path = _ref6.path;\n        return /*#__PURE__*/React.createElement(AnimatedPath, _extends({\n          className: \"visx-bar visx-bar-rounded\",\n          d: path,\n          fill: fill\n        }, pathProps));\n      });\n    }))\n  );\n}\n\nfunction AnimatedBarsUnrounded(_ref7) {\n  var bars = _ref7.bars,\n      xScale = _ref7.xScale,\n      yScale = _ref7.yScale,\n      horizontal = _ref7.horizontal,\n      radius = _ref7.radius,\n      radiusAll = _ref7.radiusAll,\n      radiusTop = _ref7.radiusTop,\n      radiusRight = _ref7.radiusRight,\n      radiusBottom = _ref7.radiusBottom,\n      radiusLeft = _ref7.radiusLeft,\n      rectProps = _objectWithoutPropertiesLoose(_ref7, _excluded2);\n\n  var animatedBars = useTransition(bars, _extends({}, useBarTransitionConfig({\n    horizontal: horizontal,\n    scale: horizontal ? xScale : yScale\n  })));\n  var isFocusable = Boolean(rectProps.onFocus || rectProps.onBlur);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, animatedBars(function ( // @ts-expect-error x/y aren't in react-spring types (which are HTML CSS properties)\n  _ref8, item, _ref9) {\n    var x = _ref8.x,\n        y = _ref8.y,\n        width = _ref8.width,\n        height = _ref8.height,\n        fill = _ref8.fill,\n        opacity = _ref8.opacity;\n    var key = _ref9.key;\n    return item == null || key == null ? null : /*#__PURE__*/React.createElement(animated.rect, _extends({\n      key: key,\n      tabIndex: isFocusable ? 0 : undefined,\n      className: \"visx-bar\",\n      x: x,\n      y: y,\n      width: width,\n      height: height // use the item's fill directly if it's not animate-able\n      ,\n      fill: colorHasUrl(item.fill) ? item.fill : fill,\n      opacity: opacity\n    }, rectProps));\n  }));\n}"]},"metadata":{},"sourceType":"module"}