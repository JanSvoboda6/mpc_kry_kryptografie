{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:8080/api/auth\";\n\nclass AuthService {\n  async login(username, password) {\n    const response = await axios.post(API_URL + \"/login\", {\n      username,\n      password\n    });\n\n    if (response.data.accessToken) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n\n    return response.data;\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  register(username, password) {\n    var message = \"\";\n    return axios.post(API_URL + \"/register\", {\n      username,\n      password,\n      message\n    });\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["/Users/jan/dev/thesis/ml_runner/react/ml-runner/src/services/AuthenticationService.ts"],"names":["axios","API_URL","AuthService","login","username","password","response","post","data","accessToken","localStorage","setItem","JSON","stringify","logout","removeItem","register","message"],"mappings":"AAAA,OAAOA,KAAP,MAAqC,OAArC;AAGA,MAAMC,OAAO,GAAG,gCAAhB;;AAEA,MAAMC,WAAN,CACA;AACa,QAALC,KAAK,CAACC,QAAD,EAAmBC,QAAnB,EACX;AACE,UAAMC,QAA6B,GAAG,MAAMN,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAG,QAArB,EAA+B;AAAEG,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAA/B,CAA5C;;AAEA,QAAIC,QAAQ,CAACE,IAAT,CAAcC,WAAlB,EACA;AACEC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACE,IAAxB,CAA7B;AACD;;AACD,WAAOF,QAAQ,CAACE,IAAhB;AACD;;AAEDM,EAAAA,MAAM,GACN;AACEJ,IAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;AACD;;AAEDC,EAAAA,QAAQ,CAACZ,QAAD,EAAmBC,QAAnB,EACR;AACE,QAAIY,OAAe,GAAG,EAAtB;AACA,WAAOjB,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAG,WAArB,EAAkC;AAAEG,MAAAA,QAAF;AAAYC,MAAAA,QAAZ;AAAsBY,MAAAA;AAAtB,KAAlC,CAAP;AACD;;AArBH;;AAwBA,eAAe,IAAIf,WAAJ,EAAf","sourcesContent":["import axios, { AxiosResponse } from \"axios\";\nimport { User } from \"../types\";\n\nconst API_URL = \"http://localhost:8080/api/auth\";\n\nclass AuthService\n{\n  async login(username: string, password: string) \n  {\n    const response: AxiosResponse<User> = await axios.post(API_URL + \"/login\", { username, password });\n\n    if (response.data.accessToken)\n    {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n    return response.data;\n  }\n\n  logout()\n  {\n    localStorage.removeItem(\"user\");\n  }\n\n  register(username: string, password: string)\n  {\n    var message: string = \"\";\n    return axios.post(API_URL + \"/register\", { username, password, message })\n  }\n}\n\nexport default new AuthService();\n"]},"metadata":{},"sourceType":"module"}